{% extends 'base.html' %}
{% load static %}

{% block title %}Contact Us | e-Gov Portal{% endblock %}

{% block content %}
<div class="bg-gray-50 dark:bg-[#101622] min-h-screen py-12">
    <div class="max-w-[1280px] mx-auto px-4 md:px-10">
        <!-- Header Section -->
        <div class="mb-12">
            <h1 class="text-4xl font-black text-gray-900 dark:text-white tracking-tight mb-4">Contact Us</h1>
            <p class="text-lg text-gray-500 dark:text-gray-400 max-w-2xl">
                We are here to assist you with government services. Find our department contact details below or send us
                a secure message directly.
            </p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-10">
            <!-- Left Column: Info Cards -->
            <div class="lg:col-span-5 space-y-8">
                <!-- Head Office Card -->
                <div
                    class="bg-white dark:bg-surface-dark rounded-3xl p-8 border border-gray-100 dark:border-gray-800 shadow-sm hover:shadow-md transition-shadow">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="size-12 rounded-2xl bg-primary/10 text-primary flex items-center justify-center">
                            <span class="material-symbols-outlined">apartment</span>
                        </div>
                        <h2 class="text-xl font-bold text-gray-900 dark:text-white">Head Office</h2>
                    </div>
                    <div class="space-y-4">
                        <div>
                            <p class="font-bold text-gray-900 dark:text-white">Government Complex, Block B</p>
                            <p class="text-gray-500 dark:text-gray-400 text-sm">123 Civic Center Way, Capital City, ST
                                12345</p>
                        </div>
                        <div class="flex items-center gap-2 text-emerald-600 dark:text-emerald-400 text-sm font-bold">
                            <span class="size-2 rounded-full bg-emerald-500 animate-pulse"></span>
                            Open now: 9:00 AM - 5:00 PM
                        </div>
                        <!-- Map Placeholder -->
                        <div
                            class="relative w-full aspect-video rounded-2xl bg-gray-100 dark:bg-gray-800 overflow-hidden group">
                            <div
                                class="absolute inset-0 flex items-center justify-center text-gray-300 dark:text-gray-600 text-lg font-bold uppercase tracking-widest">
                                <div class="flex flex-col items-center">
                                    <span class="material-symbols-outlined text-4xl mb-2">map</span>
                                    Interactive Map
                                </div>
                            </div>
                            <button
                                class="absolute bottom-4 right-4 bg-white dark:bg-gray-900 text-primary text-xs font-bold py-2 px-4 rounded-xl shadow-lg border border-gray-100 dark:border-gray-800 hover:bg-gray-50 transition-all">
                                Get Directions
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Phone Support Card -->
                <div
                    class="bg-white dark:bg-surface-dark rounded-3xl p-8 border border-gray-100 dark:border-gray-800 shadow-sm">
                    <div class="flex items-center gap-4 mb-8">
                        <div
                            class="size-12 rounded-2xl bg-blue-50 dark:bg-blue-900/20 text-blue-600 flex items-center justify-center">
                            <span class="material-symbols-outlined">call</span>
                        </div>
                        <h2 class="text-xl font-bold text-gray-900 dark:text-white">Phone Support</h2>
                    </div>
                    <div class="space-y-6">
                        <div class="flex items-center justify-between p-4 rounded-2xl bg-gray-50 dark:bg-gray-800/50">
                            <div>
                                <p class="text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1">General
                                    Inquiry (Toll-Free)</p>
                                <p class="text-lg font-black text-gray-900 dark:text-white">1-800-123-4567</p>
                            </div>
                            <div
                                class="size-10 rounded-full bg-blue-100 dark:bg-blue-900/40 text-blue-600 flex items-center justify-center">
                                <span class="material-symbols-outlined text-[18px]">call</span>
                            </div>
                        </div>
                        <div class="flex items-center justify-between p-4 rounded-2xl bg-gray-50 dark:bg-gray-800/50">
                            <div>
                                <p class="text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1">Technical
                                    Support</p>
                                <p class="text-lg font-black text-gray-900 dark:text-white">1-800-987-6543</p>
                            </div>
                            <div
                                class="size-10 rounded-full bg-blue-100 dark:bg-blue-900/40 text-blue-600 flex items-center justify-center">
                                <span class="material-symbols-outlined text-[18px]">call</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Email Directory -->
                <div
                    class="bg-white dark:bg-surface-dark rounded-3xl p-8 border border-gray-100 dark:border-gray-800 shadow-sm">
                    <div class="flex items-center gap-4 mb-8">
                        <div
                            class="size-12 rounded-2xl bg-purple-50 dark:bg-purple-900/20 text-purple-600 flex items-center justify-center">
                            <span class="material-symbols-outlined">mail</span>
                        </div>
                        <h2 class="text-xl font-bold text-gray-900 dark:text-white">Email Directory</h2>
                    </div>
                    <div class="space-y-6">
                        <div class="flex items-start gap-4">
                            <div
                                class="size-10 rounded-xl bg-gray-100 dark:bg-gray-800 flex items-center justify-center shrink-0">
                                <span class="material-symbols-outlined text-primary text-[20px]">info</span>
                            </div>
                            <div>
                                <p class="text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-0.5">GENERAL
                                    INFO</p>
                                <p class="text-sm font-bold text-gray-900 dark:text-white">info@egov.gov</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-4">
                            <div
                                class="size-10 rounded-xl bg-gray-100 dark:bg-gray-800 flex items-center justify-center shrink-0">
                                <span class="material-symbols-outlined text-primary text-[20px]">support_agent</span>
                            </div>
                            <div>
                                <p class="text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-0.5">TECH
                                    SUPPORT</p>
                                <p class="text-sm font-bold text-gray-900 dark:text-white">support@egov.gov</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Popular Questions -->
                <div
                    class="bg-blue-50 dark:bg-blue-900/10 rounded-3xl p-8 border border-blue-100 dark:border-blue-900/30">
                    <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Popular Questions</h2>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Find answers quickly without waiting.</p>
                    <div class="space-y-4">
                        <a href="#"
                            class="flex items-center gap-3 text-sm font-bold text-gray-700 dark:text-gray-300 hover:text-primary transition-colors no-underline">
                            <span class="material-symbols-outlined text-blue-500 text-[20px]">help</span>
                            How do I track my application status?
                        </a>
                        <a href="#"
                            class="flex items-center gap-3 text-sm font-bold text-gray-700 dark:text-gray-300 hover:text-primary transition-colors no-underline">
                            <span class="material-symbols-outlined text-blue-500 text-[20px]">history</span>
                            How can I reset my password?
                        </a>
                        <a href="#"
                            class="flex items-center gap-3 text-sm font-bold text-gray-700 dark:text-gray-300 hover:text-primary transition-colors no-underline">
                            <span class="material-symbols-outlined text-blue-500 text-[20px]">description</span>
                            What documents are required for ID renewal?
                        </a>
                    </div>
                    <a href="#"
                        class="inline-flex items-center mt-6 text-sm font-black text-primary hover:gap-2 transition-all no-underline">
                        View all FAQs <span class="material-symbols-outlined text-sm ml-1">arrow_forward</span>
                    </a>
                </div>
            </div>

            <!-- Right Column: Send a Message Form -->
            <div class="lg:col-span-7">
                <div
                    class="bg-white dark:bg-surface-dark rounded-[40px] p-8 md:p-12 border border-gray-100 dark:border-gray-800 shadow-xl relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full blur-3xl -mr-32 -mt-32">
                    </div>

                    <div class="relative z-10">
                        <h2 class="text-3xl font-black text-gray-900 dark:text-white mb-2">Send a Message</h2>
                        <p class="text-gray-500 dark:text-gray-400 text-sm mb-10">Please fill out the form below. Fields
                            marked with <span class="text-rose-500">*</span> are required.</p>

                        <form method="POST" enctype="multipart/form-data" class="space-y-8">
                            {% csrf_token %}

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="space-y-2">
                                    <label class="text-sm font-bold text-gray-700 dark:text-gray-300">Full Name <span
                                            class="text-rose-500">*</span></label>
                                    {{ form.name }}
                                </div>
                                <div class="space-y-2">
                                    <label class="text-sm font-bold text-gray-700 dark:text-gray-300">Email Address
                                        <span class="text-rose-500">*</span></label>
                                    {{ form.email }}
                                </div>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="space-y-2">
                                    <label class="text-sm font-bold text-gray-700 dark:text-gray-300">Department</label>
                                    <div class="relative">
                                        {{ form.department }}
                                        <div
                                            class="absolute inset-y-0 right-4 flex items-center pointer-events-none text-gray-400">
                                            <span class="material-symbols-outlined">expand_more</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="space-y-2">
                                    <label class="text-sm font-bold text-gray-700 dark:text-gray-300">Subject <span
                                            class="text-rose-500">*</span></label>
                                    {{ form.subject }}
                                </div>
                            </div>

                            <div class="space-y-2 relative">
                                <label class="text-sm font-bold text-gray-700 dark:text-gray-300">Message <span
                                        class="text-rose-500">*</span></label>
                                {{ form.message }}
                                <div class="absolute bottom-4 right-4 text-gray-300">
                                    <span class="material-symbols-outlined">edit</span>
                                </div>
                            </div>

                            <div class="space-y-2">
                                <label class="text-sm font-bold text-gray-700 dark:text-gray-300">Attachment
                                    (Optional)</label>
                                <div id="drop-zone"
                                    class="border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-2xl p-8 flex flex-col items-center justify-center gap-4 transition-all hover:border-primary/50 hover:bg-primary/5 cursor-pointer group">
                                    <div
                                        class="size-16 rounded-2xl bg-gray-50 dark:bg-gray-800 text-gray-400 flex items-center justify-center group-hover:text-primary transition-colors">
                                        <span class="material-symbols-outlined text-4xl">cloud_upload</span>
                                    </div>
                                    <div class="text-center">
                                        <p class="text-sm font-bold text-gray-900 dark:text-white">
                                            <span class="text-primary hover:underline" id="upload-trigger">Upload a
                                                file</span> or drag and drop
                                        </p>
                                        <p class="text-xs text-gray-500 mt-1">PDF, JPG, PNG up to 5MB</p>
                                    </div>
                                    <p id="file-name-display" class="text-xs font-bold text-emerald-600 hidden"></p>
                                    {{ form.attachment }}
                                </div>
                            </div>

                            <div class="pt-4 flex flex-col md:flex-row items-center justify-between gap-6 px-2">
                                <div
                                    class="flex items-center gap-3 text-xs text-gray-500 dark:text-gray-400 max-w-[300px]">
                                    <span class="material-symbols-outlined text-emerald-500">security_active</span>
                                    Your data is secure and processed in accordance with the Government Data Privacy
                                    Act.
                                </div>
                                <button type="submit"
                                    class="w-full md:w-auto inline-flex items-center justify-center gap-3 bg-primary text-white font-black py-4 px-10 rounded-2xl hover:bg-primary-dark transition-all shadow-xl shadow-blue-200 dark:shadow-none min-w-[200px]">
                                    Send Message
                                    <span class="material-symbols-outlined text-[20px]">send</span>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const dropZone = document.getElementById('drop-zone');
    const fileInput = document.getElementById('file-upload');
    const uploadTrigger = document.getElementById('upload-trigger');
    const fileNameDisplay = document.getElementById('file-name-display');

    uploadTrigger.addEventListener('click', () => fileInput.click());

    fileInput.addEventListener('change', () => {
        if (fileInput.files.length > 0) {
            fileNameDisplay.textContent = `Selected: ${fileInput.files[0].name}`;
            fileNameDisplay.classList.remove('hidden');
        }
    });

    dropZone.addEventListener('dragover', (e) => {
        e.preventDefault();
        dropZone.classList.add('border-primary', 'bg-primary/5');
    });

    dropZone.addEventListener('dragleave', () => {
        dropZone.classList.remove('border-primary', 'bg-primary/5');
    });

    dropZone.addEventListener('drop', (e) => {
        e.preventDefault();
        dropZone.classList.remove('border-primary', 'bg-primary/5');
        if (e.dataTransfer.files.length > 0) {
            fileInput.files = e.dataTransfer.files;
            fileNameDisplay.textContent = `Selected: ${e.dataTransfer.files[0].name}`;
            fileNameDisplay.classList.remove('hidden');
        }
    });
</script>
{% endblock %}